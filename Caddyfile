:80 {
    # 静态文件根目录
    root * /usr/share/caddy
    file_server

    # 处理 Vue/SPA 路由，将所有找不到的文件重定向到 index.html
    try_files {path} /index.html

    # 反向代理 API 请求
    # 使用环境变量 BACKEND_ADDR，例如 http://backend:8080/v1
    handle_path /api/* {
        reverse_proxy {$BACKEND_ADDR}
    }
}
